{{- if .Values.thanosQuerier.enabled }}
apiVersion: monitoring.rhobs/v1alpha1
kind: ThanosQuerier
metadata:
  name: {{ .Values.thanosQuerier.name }}
  namespace: {{ .Values.thanosQuerier.namespace }}
  annotations:
    argocd.argoproj.io/sync-wave: "3"
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  selector:
    matchLabels:
      {{- range $key, $value := .Values.monitoringStack.resourceSelector.matchLabels }}
      {{ $key }}: {{ $value }}
      {{- end }}
{{- end }}
