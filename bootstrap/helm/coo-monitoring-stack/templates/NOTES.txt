âœ… Cluster Observability Operator and MonitoringStack deployed successfully!

ðŸ“‹ Components installed:
  - Cluster Observability Operator in namespace: {{ .Values.operator.namespace }}
  - MonitoringStack CR: {{ .Values.monitoringStack.name }} in namespace: {{ .Values.monitoringStack.namespace }}
{{- if .Values.thanosQuerier.enabled }}
  - ThanosQuerier CR: {{ .Values.thanosQuerier.name }} for query aggregation
{{- end }}
{{- if .Values.uiPlugins.enabled }}
  - UI Plugins:
{{- if .Values.uiPlugins.dashboards.enabled }}
    â€¢ Dashboards - Enhanced OpenShift console dashboards
{{- end }}
{{- if .Values.uiPlugins.troubleshootingPanel.enabled }}
    â€¢ Troubleshooting Panel - Korrel8r-based correlation
{{- end }}
{{- if .Values.uiPlugins.distributedTracing.enabled }}
    â€¢ Distributed Tracing - Tempo traces viewer
{{- end }}
{{- if .Values.uiPlugins.monitoring.enabled }}
    â€¢ Monitoring - Perses dashboards{{ if .Values.uiPlugins.monitoring.incidents.enabled }} and incidents{{ end }}
{{- end }}
{{- end }}

ðŸ” Verification commands:

1. Check operator installation:
   oc get csv -n {{ .Values.operator.namespace }} | grep cluster-observability-operator

2. Check MonitoringStack status:
   oc get monitoringstack {{ .Values.monitoringStack.name }} -n {{ .Values.monitoringStack.namespace }}

3. Check Prometheus pods:
   oc get pods -n {{ .Values.monitoringStack.namespace }} -l app.kubernetes.io/name=prometheus

4. Check Alertmanager pods:
   oc get pods -n {{ .Values.monitoringStack.namespace }} -l app.kubernetes.io/name=alertmanager

{{- if .Values.thanosQuerier.enabled }}
5. Check ThanosQuerier deployment:
   oc get thanosquerier {{ .Values.thanosQuerier.name }} -n {{ .Values.thanosQuerier.namespace }}
   oc get pods -n {{ .Values.thanosQuerier.namespace }} -l app.kubernetes.io/name=thanos-query
{{- end }}

{{- if .Values.uiPlugins.enabled }}
6. Check UI Plugins:
   oc get uiplugin -n {{ .Values.uiPlugins.namespace }}
   
   Access new console features:
{{- if .Values.uiPlugins.dashboards.enabled }}
   - Admin > Observe > Dashboards (enhanced with datasources)
{{- end }}
{{- if .Values.uiPlugins.troubleshootingPanel.enabled }}
   - Admin > Observe > Alerts > [Select Alert] (Troubleshooting Panel button)
{{- end }}
{{- if .Values.uiPlugins.distributedTracing.enabled }}
   - Admin > Observe > Traces (Tempo traces viewer)
{{- end }}
{{- if .Values.uiPlugins.monitoring.enabled }}
{{- if .Values.uiPlugins.monitoring.perses.enabled }}
   - Admin > Observe > Dashboards (Perses) (advanced dashboards)
{{- end }}
{{- if .Values.uiPlugins.monitoring.incidents.enabled }}
   - Admin > Observe > Incidents (cluster health analysis)
{{- end }}
{{- end }}
{{- end }}

ðŸŽ¯ Next steps:

1. Deploy ServiceMonitors with label:
   monitoring.rhobs/stack: {{ index .Values.monitoringStack.resourceSelector.matchLabels "monitoring.rhobs/stack" }}

2. Access Prometheus UI:
   oc port-forward -n {{ .Values.monitoringStack.namespace }} svc/{{ .Values.monitoringStack.name }}-prometheus 9090:9090

3. Access Alertmanager UI:
   oc port-forward -n {{ .Values.monitoringStack.namespace }} svc/{{ .Values.monitoringStack.name }}-alertmanager 9093:9093

{{- if .Values.thanosQuerier.enabled }}
4. Query via Thanos (aggregated view):
   oc port-forward -n {{ .Values.thanosQuerier.namespace }} svc/{{ .Values.thanosQuerier.name }}-thanos-querier 9091:9090
{{- end }}

ðŸ“š Documentation: https://docs.openshift.com/container-platform/latest/observability/monitoring/monitoring-overview.html
