{{- if eq .Values.storage.type "odf" }}
apiVersion: v1
kind: Secret
metadata:
  name: tempo-storage
  namespace: {{ .Values.operator.namespace }}
  annotations:
    argocd.argoproj.io/sync-wave: "2"
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
type: Opaque
stringData:
  # These values will be populated from the ObjectBucketClaim
  # The format must match what Tempo operator expects
  bucket: ""  # Will be set via ArgoCD sync hook from OBC ConfigMap
  endpoint: "" # Will be set via ArgoCD sync hook from OBC ConfigMap  
  access_key_id: ""  # Will be set via ArgoCD sync hook from OBC Secret
  access_key_secret: ""  # Will be set via ArgoCD sync hook from OBC Secret
{{- end }}
