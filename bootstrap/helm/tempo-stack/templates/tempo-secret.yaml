{{- if eq .Values.storage.type "external" }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.storage.external.secretName }}  namespace: {{ .Values.operator.namespace }}
  annotations:
    argocd.argoproj.io/sync-wave: "2"
type: Opaque
stringData:
  endpoint: {{ .Values.storage.external.endpoint }}
  bucket: {{ .Values.storage.external.bucket }}
  access_key_id: {{ .Values.storage.external.accessKeyId }}
  access_key_secret: {{ .Values.storage.external.accessKeySecret }}
{{- end }}
